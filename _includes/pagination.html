{% if paginator.total_pages > 1 %}
  <nav class="mt-8 flex flex-col items-center text-sm text-blue-600">
    <div class="flex items-center space-x-4">
      {% if paginator.previous_page %}
        <a href="{{ paginator.previous_page_path | relative_url }}"
           class="px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded">
          ← ก่อนหน้า
        </a>
      {% endif %}

      <select id="page-select"
              class="px-3 py-1 rounded border text-gray-700"
              onchange="goToPage(this)">
        {% for page in (1..paginator.total_pages) %}
          <option value="{{ page }}" {% if page == paginator.page %}selected{% endif %}>
            หน้า {{ page }}
          </option>
        {% endfor %}
      </select>

      {% if paginator.next_page %}
        <a href="{{ paginator.next_page_path | relative_url }}"
           class="px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded">
          ถัดไป →
        </a>
      {% endif %}
    </div>

    <p class="text-sm text-gray-400 mt-2">
      หน้า {{ paginator.page }} จาก {{ paginator.total_pages }}
    </p>
  </nav>

  <script>
    function goToPage(select) {
      const page = select.value;
      const baseurl = '{{ site.baseurl }}';  // ใช้ baseurl เพื่อรองรับกรณี subfolder
      const url = page == 1 ? `${baseurl}/article/` : `${baseurl}/article/page-${page}/`;
      window.location.href = url;
    }
  </script>
{% endif %}
